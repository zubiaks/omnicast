<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>OmniCast — IPTV</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="../favicon.ico">
  <link rel="manifest" href="../manifest.json">
  <link rel="stylesheet" href="../assets/css/theme.css">
  <link rel="stylesheet" href="../assets/css/player.css">
  <link rel="stylesheet" href="../assets/css/iptv.css">
</head>
<body>
<header class="hero" style="background-image:url('../assets/img/header-iptv.jpg')">
  <div class="overlay">
    <div class="header-left">
      <img src="../assets/img/logo-omnicast.svg" alt="OmniCast" class="logo">
      <h1>IPTV</h1>
    </div>
    <div class="header-actions">
      <a href="../index.html" class="btn">Voltar</a>
      <div class="dropdown">
        <button id="display-settings" class="btn" title="Definições de visualização">⚙️</button>
        <div class="dropdown-menu" id="display-menu">
          <button data-action="theme" class="dropdown-item">Tema: <span id="theme-label">Escuro</span></button>
          <button data-action="viewmode" class="dropdown-item">Modo: <span id="viewmode-label">Normal</span></button>
        </div>
      </div>
    </div>
  </div>
</header>

<main class="container">
  <!-- Toolbar -->
  <section id="iptv-toolbar" class="toolbar">
    <input id="iptv-search" class="input" type="search" placeholder="Procurar canal, país ou categoria…">
    <select id="iptv-country" class="select"><option value="">Todos os países</option></select>
    <select id="iptv-category" class="select"><option value="">Todas as categorias</option></select>
    <select id="iptv-sort" class="select">
      <option value="name">Ordenar: Nome</option>
      <option value="country">Ordenar: País</option>
      <option value="status">Ordenar: Estado</option>
    </select>
    <button id="iptv-sort-dir" class="btn" data-dir="asc" title="Alternar ordem">⇅</button>
    <button id="iptv-favs" class="btn" aria-pressed="false">⭐ Só favoritos</button>
    <span id="iptv-counts" class="tip">A carregar…</span>
  </section>

  <!-- Grelha -->
  <section id="iptv-grid" class="card-grid" aria-live="polite"></section>
  <div class="center">
    <button id="iptv-more" class="btn btn-load-more" style="display:none;">Carregar mais</button>
  </div>
  <div id="iptv-sentinel" class="sr-only" aria-hidden="true"></div>
</main>

<!-- Player -->
<div id="player-modal" class="modal" aria-hidden="true" role="dialog" aria-label="Player">
  <div class="modal-content">
    <span class="close" onclick="closePlayer()" aria-label="Fechar">&times;</span>
    <video id="player" class="video-js vjs-default-skin" controls preload="auto"></video>
  </div>
</div>

<!-- Video.js -->
<link href="https://vjs.zencdn.net/8.5.2/video-js.css" rel="stylesheet" />
<script src="https://vjs.zencdn.net/8.5.2/video.min.js"></script>

<!-- Scripts globais -->
<script src="../assets/js/utils.js"></script>

<!-- Suporte HLS para .m3u8 -->
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<script src="../assets/js/player.js"></script>
<script src="../assets/js/favs.js"></script>
<script src="../assets/js/listView.js"></script>

<!-- Script específico IPTV com validação -->
<script type="module" src="../assets/js/pages/iptv.js"></script>

<!-- Menu ⚙️ -->
<script src="../assets/js/display-settings.js"></script>
</body>
</html>
