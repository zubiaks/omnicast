// frontend/js/pages/help.js

import { initDisplaySettings } from '../modules/displaySettings.js'
import { initPwaUpdater }      from '../modules/pwaUpdater.js'
import { applyTheme }          from '../modules/themeManager.js'
import { initUiControls }      from '../modules/uiControls.js'

document.addEventListener('DOMContentLoaded', () => {
  // 1. Aplica o tema salvo (light/dark)
  applyTheme()

  // 2. Inicializa o menu de definições (tema e modo de visualização)
  initDisplaySettings()

  // 3. Regista o service worker e notifica sobre updates
  initPwaUpdater()

  // 4. Comportamentos de UI genéricos (skip-link, foco, atalhos globais)
  initUiControls()

  // 5. Toggle de seções de FAQ (botões com data-help-toggle)
  document.querySelectorAll('[data-help-toggle]').forEach(btn => {
    const panel = document.querySelector(btn.dataset.helpTarget)
    btn.addEventListener('click', () => panel.classList.toggle('expanded'))
  })
})
